{
  "type" : {
      "fits_keyword" : "EXP_TYPE",
      "title" : "Type of data in the exposure",
      "description" : "Exposure type is used by DMS to direct Science Data Processing code (SDP) and calibration, as well as provide metadata for archive searches. For a given template the EXP_TYPE keyword value is obtained for each exposure from the EXPOSURE_TYPE exposure-level parameter in the Observatory Status File (OSF). In a few cases, additional information is required to set the value for the EXP_TYPE keyword.",
      "type" : "string",
      "enum" : ["FGS_DARK", "FGS_FOCUS", "FGS_IMAGE", "FGS_INTFLAT", "FGS_SKYFLAT", "MIR_IMAGE", "MIR_TACQ", "MIR_LYOT", "MIR_4QPM", "MIR_LRS-FIXEDSLIT", "MIR_LRS-SLITLESS", "MIR_MRS", "MIR_DARKIMG", "MIR_DARKMRS", "MIR_DARKALL", "MIR_FLATIMAGE", "MIR_FLATMRS", "MIR_CORONCAL", "NIS_AMI", "NIS_DARK", "NIS_EXTCAL", "NIS_FOCUS", "NIS_IMAGE", "NIS_LAMP", "NIS_SOSS", "NIS_WFSS", "NIS_TACQ", "NIS_TACONFIRM", "N/A", "ANY", "NRC_IMAGE", "NRC_WFSS", "NRC_TACQ", "NRC_CORON", "NRC_FOCUS", "NRC_DARK", "NRC_FLAT", "NRC_GRISM", "NRC_LED", "NRC_TSIMAGE", "NRC_TSGRISM", "NRC_TACONFIRM", "NRC_WFSC", "NRS_AUTOFLAT", "NRS_AUTOWAVE", "NRS_BRIGHTOBJ", "NRS_CONFIRM", "NRS_DARK", "NRS_FIXEDSLIT", "NRS_FOCUS", "NRS_IFU", "NRS_IMAGE", "NRS_LAMP", "NRS_MIMF", "NRS_MSASPEC", "NRS_TACONFIRM", "NRS_TACQ", "NRS_TASLIT", "FGS_ID-IMAGE", "FGS_ID-STACK", "FGS_ACQ1", "FGS_ACQ2", "FGS_TRACK", "FGS_FINEGUIDE", "MIR_FLATIMAGE-EXT", "MIR_FLATMRS-EXT", "NRS_WATA", "NRS_MSATA", "MIR_TACONFIRM", "NRS_VERIFY"],
      "units" : "",
      "example" : "",
      "default_value" : "",
      "special_processing" : "VALUE_REQUIRED",
      "source" : "Observatory Status File (OSF)",
      "sw_source" : "METRICS:completedExposure.exposureType",
      "calculation" : "",
      "destination" : ["ScienceCommon.exp_type","GuideStar.exp_type"],
      "sql_dtype" : "nvarchar(30)",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1b",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  },

  "readpatt" : {
      "fits_keyword" : "READPATT",
      "title" : "Readout pattern",
      "description" : "The readout pattern (READPATT) name designates a pre-defined combination of NFRAMES, GROUPGAP, and NRESETS that was used for the exposure. Each unique combination of these parameters determines not only the timing of detector readouts and resets during an exposure, but also the cadence of the resulting data frames that are downlinked from the telescope.",
      "type" : "string",
      "enum" :  ["SLOW", "FAST", "FASTGRPAVG", "DEEP8", "DEEP2", "MEDIUM8", "MEDIUM2", "SHALLOW4", "SHALLOW2", "BRIGHT2", "BRIGHT1", "RAPID", "NRSRAPID", "NRS", "NRSSLOW", "NRSN8R2", "NRSN16R4", "NRSN32R8", "ID", "ACQ1", "ACQ2", "TRACK", "FINEGUIDE", "FGS60", "FGS840", "FGS8370", "FGSRAPID", "FGS", "NISRAPID", "NIS", "NRSIRS2", "N/A", "ANY", "NRSIRS2RAPID", "FASTGRPAVG8", "FASTGRPAVG16", "FASTGRPAVG32", "FASTGRPAVG64", "NRSRAPIDD1", "NRSRAPIDD2", "NRSRAPIDD6", "FASTR100", "FASTR1", "SLOWR1"],
      "units" : "",
      "example" : "",
      "default_value" : "",
      "special_processing" : "VALUE_REQUIRED",
      "source" : "Observatory Status File (OSF)",
      "sw_source" : "",
      "calculation" : "Datamode table lookup",
      "destination" : ["ScienceCommon.readpatt","GuideStar.readpatt"],
      "sql_dtype" : "nvarchar(15)",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1a",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : "Also available in PPS:<si>_exposure_specification.readout_pattern, and METRICS_DB:CompletedExposure.readoutPattern and METRICS_DB:NintsNgroups.pattern"
  },

  "nints" : {
      "fits_keyword" : "NINTS",
      "title" : "Number of integrations in exposure",
      "description" : "Number of integrations within the exposure. An exposure consists of one or more integrations, and an integration contains one or more groups. Each integration within an exposure is required to have the same number of groups. For NINTS of one , the count rate image produced in the level 2a data product is single two-dimensional data array contained in FITS science image extension. For NINTS greater than one, a second level 2a product will be generated with a separate count rate image for each integration within the exposure.",
      "type" : "integer",
      "units" : "",
      "example" : "0",
      "default_value" : "",
      "special_processing" : "VALUE_REQUIRED",
      "source" : "Observatory Status File (OSF)",
      "sw_source" : "",
      "calculation" : "",
      "destination" : ["ScienceCommon.nints","GuideStar.nints"],
      "sql_dtype" : "int",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1a",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : "Redundant source: PPS:<si>_exposure_specification.number_of_integrations"
  },

  "segment_total" : {
      "fits_keyword" : "EXSEGTOT",
      "title" : "total number segments",
      "description" : "The total number of segments in a single exposure of a Time Series Observation.",
      "type" : "integer",
      "units" : "",
      "example" : "3",
      "default_value" : "",
      "special_processing" : "OPTIONAL",
      "source" : "Science Data Processing (SDP)",
      "sw_source" : "",
      "calculation" : "",
      "destination" : ["ScienceCommon.exsegtot"],
      "sql_dtype" : "int",
      "si" : "ALL",
      "mode" : "NRC_TSIMAGE (always), NRC_TSGRISM (always), MIR_IMAGE (allowed, default=no), MIR_MRS (allowed, default=no), MIR_LRS-SLITLESS (allowed, default=no), NRS_BRIGHTOBJ (always), NIS_SOSS (allowed, default=yes)",
      "level" : "1a",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  },

  "segment_number" : {
      "fits_keyword" : "EXSEGNUM",
      "title" : "sequential segment number",
      "description" : "The sequential segment number in a single exposure of a Time Series Observation.",
      "type" : "integer",
      "units" : "",
      "example" : "3",
      "default_value" : "",
      "special_processing" : "OPTIONAL",
      "source" : "Science Data Processing (SDP)",
      "sw_source" : "",
      "calculation" : "",
      "destination" : ["ScienceCommon.exsegnum"],
      "sql_dtype" : "int",
      "si" : "ALL",
      "mode" : "NRC_TSIMAGE (always), NRC_TSGRISM (always), MIR_IMAGE (allowed, default=no), MIR_MRS (allowed, default=no), MIR_LRS-SLITLESS (allowed, default=no), NRS_BRIGHTOBJ (always), NIS_SOSS (allowed, default=yes)",
      "level" : "1a",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  },

  "integration_start" : {
      "fits_keyword" : "INTSTART",
      "title" : "Starting integration number in this segment",
      "description" : "For segmented exposure products, this keyword gives the number of the first integration contained within the segment.",
      "type" : "integer",
      "units" : "",
      "example" : "1042",
      "default_value" : "",
      "special_processing" : "OPTIONAL",
      "source" : "Science Data Processing (SDP)",
      "sw_source" : "",
      "calculation" : "",
      "destination" : ["ScienceCommon.intstart","GuideStar.intstart"],
      "sql_dtype" : "int",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1a",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  },

  "integration_end" : {
      "fits_keyword" : "INTEND",
      "title" : "Ending integration number in this segment",
      "description" : "For segmented exposure products, this keyword gives the number of the last integration contained within the segment.",
      "type" : "integer",
      "units" : "",
      "example" : "1042",
      "default_value" : "",
      "special_processing" : "OPTIONAL",
      "source" : "Science Data Processing (SDP)",
      "sw_source" : "",
      "calculation" : "",
      "destination" : ["ScienceCommon.intend","GuideStar.intend"],
      "sql_dtype" : "int",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1a",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  },

  "ngroups" : {
      "fits_keyword" : "NGROUPS",
      "title" : "Number of groups in integration",
      "description" :  "Number of groups in integration. Each integration within an exposure is required to have the same number of groups. The total number of groups in an exposure is determined by NGROUPS * NINTS. One exception to this is for instrument MIRI with readout pattern FASTGRPAVG, where the instrument flight settings are inconsistent with other modes. In this case NGROUPS per integration is calculated as NGROUPS = NGROUPS / NFRAMES, where NFRAMES=FRMDIVSR.",
      "type" : "integer",
      "units" : "",
      "example" : "0",
      "default_value" : "",
      "special_processing" : "VALUE_REQUIRED",
      "source" : "Observatory Status File (OSF)",
      "sw_source" : "",
      "calculation" : "",
      "destination" : ["ScienceCommon.ngroups","GuideStar.ngroups"],
      "sql_dtype" : "int",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1a",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : "Redundant source:PPS:<si>_exposure_specification.number_of_groups"
  },

  "nframes" : {
      "fits_keyword" : "NFRAMES",
      "title" : "Number of frames per group",
      "description" : "Number of frames in a group",
      "type" : "integer",
      "units" : "",
      "example" : "1",
      "default_value" : "",
      "special_processing" : "VALUE_REQUIRED",
      "source" : "Science and Operations Center Project Reference Database (PRD)",
      "sw_source" : "",
      "calculation" :  "Datamode table lookup.  One exception is for instrument MIRI and readout pattern FASTGRPAVG where NFRAMES=FRMDIVSR because the instrument flight settings are inconsistent with other modes.",
      "destination" : ["ScienceCommon.nframes","GuideStar.nframes"],
      "sql_dtype" : "smallint",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1b",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  },

  "groupgap" : {
      "fits_keyword" : "GROUPGAP",
      "title" : "Number of frames dropped between groups",
      "description" : "Number of frames skipped between groups",
      "type" : "integer",
      "units" : "",
      "example" : "1",
      "default_value" : "",
      "special_processing" : "VALUE_REQUIRED",
      "source" : "Science Image Header",
      "sw_source" : "",
      "calculation" : "Datamode table lookup",
      "destination" : ["ScienceCommon.groupgap","GuideStar.groupgap"],
      "sql_dtype" : "smallint",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1b",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  },

  "nsamples" : {
      "fits_keyword" : "NSAMPLES",
      "title" : "Number of A/D samples per pixel",
      "description" : "Number of A/D samples per read of pixel. One in every mode but MIRI SLOW which has a value of ten",
      "type" : "integer",
      "units" : "",
      "example" : "",
      "default_value" : "",
      "source" : "Science and Operations Center Project Reference Database (PRD)",
      "sw_source" : "",
      "calculation" : "Datamode table lookup",
      "destination" : ["ScienceCommon.nsamples","GuideStar.nsamples"],
      "sql_dtype" : "smallint",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1b",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  },

  "sample_time" : {
      "fits_keyword" : "TSAMPLE",
      "title" : "[us] Time between samples",
      "description" : "Delta time between samples in units of microsec.",
      "type" : "float",
      "units" : "microseconds",
      "example" : "",
      "default_value" : "10",
      "source" : "Science Image Header",
      "sw_source" : "",
      "calculation" : "readout pattern lookup",
      "destination" : ["ScienceCommon.tsample","GuideStar.tsample"],
      "sql_dtype" : "float",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1b",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  },

 "frame_time" : {
      "fits_keyword" : "TFRAME",
      "title" : "[s] Time between frames",
      "description" : "Time between start of successive frames in units of seconds.",
      "type" : "float",
      "units" : "seconds",
      "example" : "2.77504",
      "default_value" : "",
      "special_processing" : "VALUE_REQUIRED",
      "source" : "Science Data Processing (SDP)",
      "sw_source" : "calculation",
      "calculation" : "Datamode Memo",
      "destination" : ["ScienceCommon.tframe","GuideStar.tframe"],
      "sql_dtype" : "float",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1b",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  },

  "group_time" : {
      "fits_keyword" : "TGROUP",
      "title" : "[s] Time between groups",
      "description" : "Time between start of successive groups in units of seconds.",
      "type" : "float",
      "units" : "seconds",
      "example" : "2.77504",
      "default_value" : "",
      "special_processing" : "VALUE_REQUIRED",
      "source" : "Science Data Processing (SDP)",
      "sw_source" : "calculation",
      "calculation" : "(GROUPGAP+NFRAMES)*TFRAME",
      "destination" : ["ScienceCommon.tgroup","GuideStar.tgroup"],
      "sql_dtype" : "float",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1b",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : "Engineering values used for MIRI time calc.  See mirifits.py to see list of engineering parameters."
  },

  "integration_time" : {
      "fits_keyword" : "EFFINTTM",
      "title" : "[s] Effective integration time",
      "description" : "Effective integration Time in units of seconds.",
      "type" : "float",
      "units" : "seconds",
      "example" : "",
      "default_value" : "",
      "special_processing" : "VALUE_REQUIRED",
      "source" : "Science Data Processing (SDP)",
      "sw_source" : "calculation",
      "calculation" : "(NGROUPS-1)*TGROUP+(TGROUP0) where TGROUP and TGROUP0 are calculated",
      "destination" : ["ScienceCommon.effinttm","GuideStar.effinttm"],
      "sql_dtype" : "float",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1b",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  },

  "nresets_at_start" : {
      "fits_keyword" : "NRSTSTRT",
      "title" : "Number of resets at start of exposure",
      "description" : "Number of resets at start of exposure",
      "type" : "integer",
      "units" : "",
      "example" : "",
      "default_value" : "",
      "special_processing" : "VALUE_REQUIRED",
      "source" : "Science and Operations Center Project Reference Database (PRD)",
      "sw_source" : "",
      "calculation" : "Datamode table lookup",
      "destination" : ["ScienceCommon.nrststrt","GuideStar.nrststrt"],
      "sql_dtype" : "smallint",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1b",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  },

  "nresets_between_ints" : {
      "fits_keyword" : "NRESETS",
      "title" : "Number of resets between integrations",
      "description" : "Number of resets that separate integrations within an exposure",
      "type" : "integer",
      "units" : "",
      "example" : "",
      "default_value" : "",
      "special_processing" : "VALUE_REQUIRED",
      "source" : "Science and Operations Center Project Reference Database (PRD)",
      "sw_source" : "calculation",
      "calculation" : "Datamode table lookup",
      "destination" : ["ScienceCommon.nresets","GuideStar.nresets"],
      "sql_dtype" : "smallint",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1b",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  },

  "zero_frame" : {
      "fits_keyword" : "ZEROFRAM",
      "title" : "Zero frame was downlinked separately",
      "description" : "T if zero frame was read separately. The first frame of an integration may be read out separately, even if that frame is also averaged into the first group of the integration. If there is a zero frame readout, there will be one for each integration. The zero frame will be stored in a data array in a separate fits extension.",
      "units" : "",
      "example" : "F",
      "type" : "boolean",
      "default_value" : "F",
      "source" : "Science Image Header",
      "sw_source" : "",
      "calculation" : "If Group ID = 0 (in sci_img_hdr), then a zero frame readout is identified ",
      "destination" : ["ScienceCommon.zerofram","GuideStar.zerofram"],
      "sql_dtype" : "nchar(1)",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1a",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  },

  "data_problem" : {
      "fits_keyword" : "DATAPROB",
      "title" : "Science telemetry indicated a problem",
      "description" : "T if science telemetry indicated any problems with the data.",
      "type" : "boolean",
      "units" : "",
      "example" : "F",
      "default_value" : "F",
      "source" : "Science Image Header",
      "sw_source" : "",
      "calculation" : "",
      "destination" : ["ScienceCommon.dataprob","GuideStar.dataprob"],
      "sql_dtype" : "nchar(1)",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1a",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : "Redundant source:FOS:RecoredScienceData"
  },

  "sca_num" : {
      "fits_keyword" : "SCA_NUM",
      "title" : "Sensor Chip Assembly number",
      "description" : "SCA number. Possible values are 1-18 ",
      "type" : "integer",
      "units" : "",
      "example" : "18",
      "default_value" : "",
      "special_processing" : "VALUE_REQUIRED",
      "source" : "Science and Operations Center Project Reference Database (PRD)",
      "sw_source" : "calculation",
      "calculation" : "Lookup PRD detector table using apid.",
      "destination" : ["ScienceCommon.sca_num","GuideStar.sca_num"],
      "sql_dtype" : "smallint",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1a",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  },

  "datamode" : {
      "fits_keyword" : "DATAMODE",
      "title" : "post-processing method used in FPAP",
      "description" : "Post-processing method used in FPAP (Focal Plane Array Processor); maps to readout pattern. Possible values are 0-86. ",
      "type" : "integer",
      "units" : "",
      "example" : "0",
      "default_value" : "",
      "special_processing" : "VALUE_REQUIRED",
      "source" : "Science Image Header",
      "sw_source" : "",
      "calculation" : "",
      "destination" : ["ScienceCommon.datamode","GuideStar.datamode"],
      "sql_dtype" : "smallint",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1a",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  },

  "frame_divisor" : {
      "fits_keyword" : "FRMDIVSR",
      "title" : "Divisor applied to frame-averaged groups",
      "description" : "The FRMDIVSR keyword records the value of the frame divisor used on-board when the flight software averages multiple frames (detector readouts) into a single group. The on-board process works by first summing the data from NFRAMES readouts and then dividing by the frame divisor to form an average. The frame divisor value is equal to NFRAMES for most readout patterns, but not always. When they are not equal, the frame-averaged data values end up with a different scaling than the original data values.",
      "type" : "integer",
      "units" : "",
      "example" : "5",
      "default_value" : "",
      "special_processing" : "VALUE_REQUIRED",
      "source" : "Science and Operations Center Project Reference Database (PRD)",
      "sw_source" : "calculation",
      "calculation" : "Datamode table lookup:FRAMEDIVISOR",
      "destination" : ["ScienceCommon.frmdivsr"],
      "sql_dtype" : "tinyint",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1b",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  },

  "drop_frames1" : {
      "fits_keyword" : "DRPFRMS1",
      "title" : "Number of frames dropped prior to first integration",
      "description" : "Number of frames dropped prior to first integration",
      "type" : "integer",
      "units" : "",
      "example" : "1",
      "default_value" : "",
      "special_processing" : "VALUE_REQUIRED",
      "source" : "Science Image Header",
      "sw_source" : "calculation",
      "calculation" : "Datamode table lookup",
      "destination" : ["ScienceCommon.drpfrms1","GuideStar.drpfrms1"],
      "sql_dtype" : "smallint",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1B",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  },

  "drop_frames3" : {
      "fits_keyword" : "DRPFRMS3",
      "title" : "Number of frames dropped between integrations",
      "description" : "Number of frames dropped between integrations",
      "type" : "integer",
      "units" : "",
      "example" : "1",
      "default_value" : "",
      "special_processing" : "VALUE_REQUIRED",
      "source" : "Science Image Header",
      "sw_source" : "calculation",
      "calculation" : "Datamode table lookup",
      "destination" : ["ScienceCommon.drpfrms3","GuideStar.drpfrms3"],
      "sql_dtype" : "smallint",
      "si" : "Multiple",
      "mode" : "All",
      "level" : "1B",
      "fits_hdu" : "PRIMARY",
      "section" : "Exposure",
      "misc" : ""
  }
}
